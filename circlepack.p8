pico-8 cartridge // http://www.pico-8.com
version 35
__lua__
f=0

function _init()
	
end

function _update60()
	f=f+1
	if f%4==0 then 
		new_circ(rnd()*128,rnd()*128,0,rnd()*8+8)
	end
	update_ids()
	foreach(sph,update_circ)
end

function _draw()
	cls()
	foreach(sph,draw_circ)
end

function update_ids()
	local ii
	for ii=1,#sph do
		sph[ii].i=ii
	end
end
-->8
--circles
sph={{i=0,
      x=0,
      y=0,
      d=0,
      c=0,
      dead=1,}}
      
s={dead=1}

function draw_circ(s)
	if s.dead!=1 then 
		if s.d>0 then 
			circfill(s.x,s.y,s.d,s.c)
			circ(s.x,s.y,s.d,s.c\2)
		end
	end
end

function update_circ(s)
	local grow=0
	if s.dead==0 then
		if s.d>128 then
			s.dead=1
		end
		grow=1
		for c in all(sph) do
			if c.i!=s.i then
				local d=distance(c.x,c.y,s.x,s.y)
				if d<=(s.d+c.d)+1 then
					grow=0
					s.dead=2
				end
			end
		end
		s.d=s.d+grow
	elseif s.dead==2 then
		
	else 
		deli(sph,s.i)
	end
end

function new_circ(x,y,d,c)
	add(sph,{i=0,
	         x=x,
	         y=y,
	         d=d,
	         c=c,
	         dead=0},
	         #sph+1)
end
-->8
--util

function distance(x1,y1,x2,y2)
	local sc=10
	local sx1,sy1=x1/sc,y1/sc
	local sx2,sy2=x2/sc,y2/sc
	local dx=(sx2-sx1)
	local dy=(sy2-sy1)
	local sqx=abs(min(64,dx)*min(64,dx))
	local sqy=abs(min(64,dy)*min(64,dy))
	local res=min(16000,sqx)+min(16000,sqy)
	return sqrt(res)*sc
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
dddd6499999999999999999999999999999999999999999999999999999999947eeeeeeeeeee700060000007eee75007e7006ddddd605a505bbb55005aaa5000
dddd6499999999999999999999999999999999999999999999999999999999947eeeeeeeeeee7006d6000007eee5b55a7006ddddddd605005bbb5a505aaa5007
ddd64999999999999999999999999999999999999999999999999999999999997eeeeeeeeeee700767777707eee750050006ddddddd606665bbb55005aaa507e
dd6649999999999999999999999999999999999999999999999999999999999947eeeeeeeee7077fffffff77777077700076ddddddd66ddd6555000005556667
6600499999999999999999999999999999999999999999999999999999999999407eeeeeee777fffffffffff7707eee707f76ddddd606ddd600000000066dddd
00049999999999999999999999999999999999999999999999999999999999999407eeeee77fffffffffffffff77eee7007666ddd6606ddd6005006006dddddd
06049999999999999999999999999999999999999999999999999999999999999400777777fffffffffffffffff7ee66606d606664444666005a56d66ddddddd
6d64999999999999999999999999999999999999999999999999999999999999940000007fffffffffffffffffff76ccc606004448888888444500606ddddddd
0674999999999999999999999999999999999999999999999999999999999999940000007fffffffffffffffffff76ccc60004888888888888840006dddddddd
57f799999999999999999999999999999999999999999999999999999999999999400007fffffffffffffffffffff6ccc60048888888888888884006dddddddd
b57999999999999999999999999999999999999999999999999999999999999999400007fffffffffffffffffffff766600488888888888888888406dddddddd
50499999999999999999999999999999999999999999999999999999999999999940507fffffffffffffffffffffff70004888888888888888888846dddddddd
07499999999999999999999999999999999999999999999999999999999999999945b57fffffffffffffffffffffff70048888888888888888888886dddddddd
7f799999999999999999999999999999999999999999999999999999999999999940567fffffffffffffffffffffff704888888888888888888888886ddddddd
074999999999999999999999999999999999999999999999999999999999999999406c6fffffffffffffffffffffff704888888888888888888888886ddddddd
00499999999999999999999999999999999999999999999999999999999999999940067fffffffffffffffffffffff7048888888888888888888888846dddddd
05499999999999999999999999999999999999999999999999999999999999999940007fffffffffffffffffffffff748888888888888888888888888466dddd
5a599999999999999999999999999999999999999999999999999999999999999940007fffffffffffffffffffffff7488888888888888888888888884076666
064999999999999999999999999999999999999999999999999999999999999999400077fffffffffffffffffffff704888888888888888888888888847f7000
6c69999999999999999999999999999999999999999999999999999999999999994057f7fffffffffffffffffffff70488888888888888888888888884070000
06049999999999999999999999999999999999999999999999999999999999999405a5707fffffffffffffffffff700488888888888888888888888884000000
0004999999999999999999999999999999999999999999999999999999999999940050007fffffffffffffffffff700488888888888888888888888884666000
40049999999999999999999999999999999999999999999999999999999999999400007777fffffffffffffffff7700488888888888888888888888886ccc600
8464999999999999999999999999999999999999999999999999999999999999940007fff77fffffffffffffff77e70048888888888888888888888846ccc600
46d6499999999999999999999999999999999999999999999999999999999999400007fff7077fffffffffff7700700048888888888888888888888846ccc607
0060499999999999999999999999999999999999999999999999999999999999400007fff700555fffffff77000000054888888888888888888888884046607e
6666499999999999999999999999999999999999999999999999999999999999400004777005bbb5777777000000005b54888888888888888888888404940007
dddd649999999999999999999999999999999999999999999999999999999994055549400005bbb5066666000000000570488888888888888888884004444444
ddddd699999999999999999999999999999999999999999999999999999999955aaa54000005bbb56ccccc6000000007e7048888888888888888844449999999
dddddd6999999999999999999999999999999999999999999999999999999945aaaaa50077705556ccccccc60000000070004888888888888888449999999999
dddddd699999999999999999999999999999999999999999999999999999995aaaaaaa57eee7006ccccccccc6050555000504488888888888884999999999999
dddddd649999999999999999999999999999999999999999999999999999945aaaaaaa57eee7706ccccccccc65a5bbb505b48444488888884449999999999999
dddddd664999999999999999999999999999999999999999999999999999405aaaaaaa57eee7f76ccccccccc6055bbb500504000744666440499999999999999
dddddd6c69999999999999999999999999999999999999999999999999994005aaaaa5007770706ccccccccc6605bbb577000007f76ccc604999999999999999
ddddd606049999999999999999999999999999999999999999999999999400055aaa55444000606ccccccccc6c60555eee700666706ccc649999999999999999
dddd600000499999999999999999999999999999999999999999999999470000757504888406c606ccccccc60600007eee706ccc606ccc699999999999999999
55660000000499999999999999999999999999999999999999999999947e7007f7e70488840066666ccccc670000007eee706ccc600566999999999999999999
aa500000006669999999999999999999999999999999999999999999400706007070048884006ddd6667667f7004444777006ccc605b54999999999999999999
aa50000006ddd699999999999999999999999999999999999999999404446d600600004440006ddd607e77070449999999440666000549999999999999999999
aa57000706ddd6499999999999999999999999999999999999999940488846006d60000000006dd460077f704999999999994000000049999999999999999999
557f707f76ddd64449999999999999999999999999999999999944004888407006444444400006484007f7449999999999999440000049999999999999999999
00076667006669994499999999999999999999999999999999940000488847f74488888884440004000070499999999999999940006499999999999999999999
006ddddd60049999944499999999999999999999999999999440005554447078888888888888400005000499999999999999999406c699999999999999999999
06ddddddd604999994004499999999999999999999999994400505aaa507e78888888888888884005b5049999999999999999999406499999999999999999999
6ddddddddd64999994077777499999999999999999994440005b5aaaaa5078888888888888888840050049999999999999999999400499999999999999999999
ddddddddddd64999477eeeee77444999999999994477777000055aaaaa5488888888888888888884000499999999999999999999940499999999999999999999
ddddddddddd604447eeeeeeeee7004444444444477fffff770005aaaaa5888888888888888888888400499999999999999999999940499999999999999999999
ddddddddddd60007eeeeeeeeeee7060004000077fffffffff77005aaa58888888888888888888888840499999999999999999999940499999999999999999999
ddddddddddd60007eeeeeeeeeee76c60494007fffffffffffff70555548888888888888888888888840499999999999999999999940499999999999999999999
ddddddddddd6007eeeeeeeeeeeee7650540007fffffffffffff75a50048888888888888888888888840499999999999999999999940499999999999999999999
6ddddddddd60007eeeeeeeeeeeee75a5a5007fffffffffffffff7500488888888888888888888888884499999999999999999999940049999999999999999999
76ddddddd600007eeeeeeeeeeeee705050007fffffffffffffff7000488888888888888888888888884499999999999999999999940049999999999999999999
f76ddddd6000007eeeeeeeeeeeee7065b507fffffffffffffffff700488888888888888888888888884049999999999999999999400049999999999999999999
600666660000007eeeeeeeeeeeee76c65607fffffffffffffffff700488888888888888888888888884049999999999999999999400004999999999999999999
d600000000000007eeeeeeeeeee700606d67fffffffffffffffff700488888888888888888888888884004999999999999999994777004999999999999999999
6055500000060077eeeeeeeeeee700000607fffffffffffffffff700488888888888888888888888884000499999999999999947eee700499999999999999999
05aaa500006d67f77eeeeeeeee7666005007fffffffffffffffff70048888888888888888888888888405044999999999999947eeeee70049999999999999999
5aaaaa5000060070077eeeee776ddd65a5007fffffffffffffff70000488888888888888888888888405b506499999999999407eeeee70074999999999999999
5aaaaa500007000000077777006ddd6050007fffffffffffffff76077788888888888888888888888400506d544999999944007eeeee707e7499999999999999
5aaaaa50007f700000004050006ddd60777007fffffffffffff76d6fff788888888888888888888884000005b504444444000007eee700075049999999999999
05aaa50000070007000485b500066607eee707fffffffffffff7067fff788888888888888888888840000005500050004840077777700005a504999999999999
005550000070007f7777405000000007eee70077fffffffff770007fff74888888888888888888840000005a5005b50004077fffff7700005000449999999999
6666666667e700577eee700000777777eee7066677fffff7700077777706488888888888888888400555550500405004007fffffffff70004440004449999999
ddddddddd67605b5eeeee70007fffff777706ccc607777700007fff7006c648888888888888884055aaaaa550494004847fffffffffff7049994000504477744
dddddddddddd6657eeeee7007fffffff70006ccc64440050007fffff70060078888888888888455aaaaaaaaa554000447fffffffffffff749994775b577eee77
dddddddddddddd67eeeee707fffffffff7006ccc488845a5007fffff700507f74488888884445aaaaaaaaaaaaa5004947fffffffffffff749994eee507eeeee7
ddddddddddddddd67eee707fffffffffff70066488888450007fffff705b56760044464440005aaaaaaaaaaaaa500047fffffffffffffff7444eeeee7eeeeeee
dddddddddddddddd6777007fffffffffff740004888884000707fff700056d6d60006d600605aaaaaaaaaaaaaaa50007fffffffffffffff7007eeeee7eeeeeee
ddddddddddddddddd600007fffffffffff494004888884007f70777000000606000006006d65aaaaaaaaaaaaaaa50067fffffffffffffff7007eeeee7eeeeeee
dddddddddddddddddd60007fffffffffff74050548884005570050000006666666000400065aaaaaaaaaaaaaaaaa56d6fffffffffffffff70007eee707eeeee7
ddddddddddddddddddd6007fffffffffff705b5a5444055aaa55b500066ddddddd664940605aaaaaaaaaaaaaaaaa5067fffffffffffffff700607770077eee77
dddddddddddddddddddd6007fffffffff7444505006005aaaaa550066ddddddddddd6406d65aaaaaaaaaaaaaaaaa54447fffffffffffff7006c6000500077700
dddddddddddddddddddd60007fffffff7488840006c65aaaaaaa506ddddddddddddddd60605aaaaaaaaaaaaaaaaa48884fffffffffffff700060005a50000000
ddddddddddddddddddddd67007fffff70488840060605aaaaaaa56ddddddddddddddddd6005aaaaaaaaaaaaaaaaa488847fffffffffff7000400040577700000
ddddddddddddddddddddd7e70067555004884446d6005aaaaaaa5ddddddddddddddddddd6005aaaaaaaaaaaaaaa54888407fffffffff700049404847fff77000
ddddddddddddddddddddd67006c5bbb500448884644005aaaaa56ddddddddddddddddddd6005aaaaaaaaaaaaaaa5444477777fffff7700000400047fffff7000
dddddddddddddddddddddd600065bbb5550488848884055aaa55ddddddddddddddddddddd6075aaaaaaaaaaaaa549407fff7077777000000494007fffffff700
dddddddddddddddddddddd650005bb5aaa548884888400055506ddddddddddddddddddddd67f7aaaaaaaaaaaaa50407fffff700000044444440007fffffff700
dddddddddddddddddddddd5a5006665aaa50444488845550006ddddddddddddddddddddddd67055aaaaaaaaa5500007fffff700044488888884447fffffff700
dddddddddddddddddddddd65046ddd5aaa5049404445bbb5006ddddddddddddddddddddddd6066655aaaaa550000005fffff7004888888888888847fffff7000
dddddddddddddddddddddd60484ddd65755004000405bbb5006ddddddddddddddddddddddd66ccc605555500000005b5fff700488888888888888877fff77000
dddddddddddddddddddddd60046ddd67f7b500004945bbb5006ddddddddddddddddddddddd66ccc6000666666600005077700488888888888888888477740000
dddddddddddddddddddddd60000666007057777774005550076ddddddddddddddddddddddd66ccc6066ddddddd66000400004888888888888888888840484500
dddddddddddddddddddddd6000004000777fffffff7775a57e7ddddddddddddddddddddddd6056606ddddddddddd604840048888888888888888888884045a50
dddddddddddddddddddddd7770049407fffffffffffff750076ddddddddddddddddddddddd65b566ddddddddddddd664b5488888888888888888888888400500
ddddddddddddddddddddd7eee700407fffffffffffffff700006ddddddddddddddddddddd606506ddddddddddddddd6050488888888888888888888888400600
ddddddddddddddddddddd7eee70007fffffffffffffffff70006ddddddddddddddddddddd66c66ddddddddddddddddd600488888888888888888888888406d60
ddddddddddddddddddddd7eee7007fffffffffffffffffff70006ddddddddddddddddddd60066ddddddddddddddddddd64888888888888888888888888846660
dddddddddddddddddddd60777007fffffffffffffffffffff7006ddddddddddddddddddd60006ddddddddddddddddddd6488888888888888888888888886ccc6
dddddddddddddddddddd6050007fffffffffffffffffffffff7006ddddddddddddddddd60006ddddddddddddddddddddd688888888888888888888888886ccc6
ddddddddddddddddddd605a5007fffffffffffffffffffffff70006ddddddddddddddd600006ddddddddddddddddddddd688888888888888888888888886ccc6
dddddddddddddddddd700050007fffffffffffffffffffffff7000056ddddddddddd66700006ddddddddddddddddddddd6888888888888888888888888846677
ddddddddddddddddd7f7000007fffffffffffffffffffffffff7005a566ddddddd6607f75006ddddddddddddddddddddd68888888888888888888888888407ee
dddddddddddddddd6070000007fffffffffffffffffffffffff705050406666555550075a506ddddddddddddddddddddd68888888888888888888888888407ee
ddddddddddddddd60000400007fffffffffffffffffffffffff75b544840055aaaaa55005056ddddddddddddddddddddd64888888888888888888888884007ee
dddddddddddddd650004840067fffffffffffffffffffffffff7054844055aaaaaaaaa5505a5ddddddddddddddddddddd6488888888888888888888888405077
dddddddddddd665a50004006d6fffffffffffffffffffffffff70004005aaaaaaaaaaaaa50506ddddddddddddddddddd6048888888888888888888888845b500
ddddddddd66600050444000067fffffffffffffffffffffffff70600005aaaaaaaaaaaaa50006ddddddddddddddddddd60048888888888888888888884005000
666666666444000048884006d6fffffffffffffffffffffffff76d6005aaaaaaaaaaaaaaa50006ddddddddddddddddd60077788888888888888888884005a500
000004488888440048884005607fffffffffffffffffffffff70660005aaaaaaaaaaaaaaa500007ddddddddddddddd6507eee788888888888888888404445400
00044888888888444888405a507fffffffffffffffffffffff76d6605aaaaaaaaaaaaaaaaa5007f7ddddddddddddd65b57eee748888888888888884048888840
004888888888888844440005007fffffffffffffffffffffff7066c65aaaaaaaaaaaaaaaaa5000706ddddddddddd600507eee704888888888888840488888884
0048888888888888400005550007fffffffffffffffffffff70000405aaaaaaaaaaaaaaaaa507000066ddddddd66777007777555444888888844404888888888
048888888888888884055bbb55007fffffffffffffffffff700004945aaaaaaaaaaaaaaaaa57f740077777666507fff77f755bbbbbb444444405004888888888
04888888888888888405bbbbb50407fffffffffffffffff7044400405aaaaaaaaaaaaaaaaa5074947eeeee705b57fff7075bbbbbbbbbbb55005a504888888888
4888888888888888885bbbbbbb49407fffffffffffffff744999440005aaaaaaaaaaaaaaa5000047eeeeeee70507fff75bbbbbbbbbbbbbbb5005004888888888
4888888888888888885bbbbbbb540007fffffffffffff7049999940005aaaaaaaaaaaaaaa500007eeeeeeeee70004775bbbbbbbbbbbbbbbbb500004888888888
4888888888888888885bbbbbbb500000777fffffff77704999999940005aaaaaaaaaaaaa504007eeeeeeeeeee704945bbbbbbbbbbbbbbbbbbb50000488888884
48888888888888888845bbbbb5000666660777777700004999999940005aaaaaaaaaaaaa549407eeeeeeeeeee75a405bbbbbbbbbbbbbbbbbbb50000048888840
488888888888888888455bbb55006ccccc600005000000499999994000055aaaaaaaaa55506007eeeeeeeeeee70505bbbbbbbbbbbbbbbbbbbbb5000004444400
7488888888888888840005550006ccccccc6005b50066604999994000000055aaaaa5505a6c607eeeeeeeeeee70005bbbbbbbbbbbbbbbbbbbbb5000050055500
e78888888888888884004000006ccccccccc6005066ccc66499944000000500555666000506007eeeeeeeeeee7005bbbbbbbbbbbbbbbbbbbbbbb5005a55aaa50
704888888888888847749400006ccccccccc600006ccccc6044555000045b50006ddd6000005007eeeeeeeee70005bbbbbbbbbbbbbbbbbbbbbbb560055aaaaa5
00488888888888887eee4000006ccccccccc60006ccccccc605aaa500494506666ddd600005b5007eeeeeee700005bbbbbbbbbbbbbbbbbbbbbbb6c6005aaaaa5
0555488888888847eeeee707776ccccccccc60006ccccccc65aaaaa5004046ddd6ddd600444544407eeeee7006005bbbbbbbbbbbbbbbbbbbbbbb560005aaaaa5
5aaa544888884557eeeee77eee7ccccccccc60006ccccccc65aaaaa5000486ddd666604488888884477777006d605bbbbbbbbbbbbbbbbbbbbbbb5004445aaa50
5aaa504444445bb7eeeee77eee76ccccccc6040406ccccc605aaaaa5066646ddd6000488888888888400055506555bbbbbbbbbbbbbbbbbbbbbbb504888455505
5aaa448400005bbb7eee707eee706ccccc604848466ccc66005aaa506ccccc66606048888888888888405aaa5bbb5bbbbbbbbbbbbbbbbbbbbbbb54888884405a
0554844040005bbb5777000777550666677704040007770400455506ccccccc606c688888888888888845aaa5bbb55bbbbbbbbbbbbbbbbbbbbb5048888848405
4440400494000555000000055bbb55077fff7700007eee494494006ccccccccc606888888888888888885aaa5bbb55bbbbbbbbbbbbbbbbbbbbb5048888844044
999400004000500555550005bbbbb507fffff700067eee74004006ccccccccccc648888888888888888845550555005bbbbbbbbbbbbbbbbbbb50004886660488
999407000005a55bbbbb505bbbbbbb7fffffff706c6eee70000006ccccccccccc688888888888888888884000666665bbbbbbbbbbbbbbbbbbb5000046ccc6488
99947f70000055bbbbbbb55bbbbbbb7fffffff7056077744400006ccccccccccc688888888888888888884006ddddd65bbbbbbbbbbbbbbbbb6666606ccccc488
4447070000045bbbbbbbbb5bbbbbbb7fffffff75a5000499940006ccccccccccc68888888888888888888406ddddddd65bbbbbbbbbbbbbbb6ddddd66ccccc644
7eee700444494bbbbbbbbb55bbbbb507fffff70050004999994006ccccccccccc6888888888888888888846ddddddddd655bbbbbbbbbbb56ddddddd6ccccc600
eeeee74888445bbbbbbbbb555bbb55677fff7770000049999940006ccccccccc64888888888888888888846ddddddddd60075bbbbbbb556ddddddddd6ccc6040
eeeee74888405bbbbbbbbb50055506d6077707e70000499999400006ccccccc604888888888888888888846ddddddddd607e75555555006ddddddddd66660494
eeeee74888405bbbbbbbbb505a5000600000007000000499940000006ccccc6004888888888888888888846ddddddddd60070005a500006ddddddddd60000040

