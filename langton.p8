pico-8 cartridge // http://www.pico-8.com
version 30
__lua__
-- ant
cls()
inst="rlr             "
dir={}
spd=256

step=1
len=#inst
changing=0
x=64
y=64
f=0
t=0
il=""
sel=0

menuitem(1,"change",function() get_inst() end)


function _init()
	initiate()
end 

function step_ant()
	local c,d
	c=pget(x,y)
	d=dir[c+1]
	pset(x,y,(c+1)%len)
	f=f-d
	f=f%4
	if f==0 then y=y-1 end
	if f==1 then x=x-1 end
	if f==2 then y=y+1 end
	if f==3 then x=x+1 end
	x=x%128
	y=y%128
end


function _update60()
	local i
	if changing==0 then
		for i=1,spd do 
			step_ant()
		end
		if btn(2) then spd=spd+1 end
		if btn(3) then spd=spd-1 end
		spd=max(1,spd)
		if btnp(4) then get_inst() end
	else
		if btnp(0) then sel=sel-1 end
		if btnp(1) then sel=sel+1 end
		if btnp(2) then 
			if dir[sel+1]==1 then 
				dir[sel+1]=-1
			elseif dir[sel+1]==-1 then
				dir[sel+1]=1
			else
				dir[sel+1]=1
			end
		end
		if btnp(3) then 
			dir[sel+1]=0
		end
		sel=sel%16
		if btnp(4) then 
			changing=0
			inst=remove_spaces(il)
			initiate()
		end
	end
end


function _draw()
	if changing==1 then 
		cls()
		il=""
		for i=1,len do
			if dir[i]==-1 then il=il.."r" end
			if dir[i]==1 then il=il.."l" end
			if dir[i]==0 then il=il.." " end
		end
		print("|",16*4,0,6)
		print("|",16*4,4,6)
		print("________________",0,2,1)
		for i=0,15 do
			print("_",i*4,3,i)
		end
		print("________________",0,4,1)
		print(il,0,0,7)
		print("-",sel*4,4,7)
		print("",0,16,6)
		print("l/r to move")
		print("u to change")
		print("d to remove")
		print("z to apply") 
		print("")
		print("while running,")
		print("u/d to change speed")
		print("speed now: "..spd)
	end
end 

function get_inst()
	changing=1
	len=16
end


function initiate()
	cls()
	dir={}
	minus=0
	for i=1,#inst do
		if sub(inst,i,i)=="r" then
			dir[i]=-1
		elseif sub(inst,i,i)=="l" then
			dir[i]=1
		else
			dir[i]=0
			minus=minus+1
		end
	end
	
	step=1
	len=#inst-minus
	
	x=64
	y=64
	f=0
	t=0
end

function remove_spaces(str)
	local s,i
	s=""
	for i=1,#str do
		if sub(str,i,i)!=" " then 
			s=s..sub(str,i,i)
		end
	end
	return s
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00211122121200202022100111002121000002200120021222212002111100222100012221201020000001210012102202212121012221002022100000200210
00001112222212100222200121222211111202200210011121110202112111121112020021020220121201121100101120121221011112220121012100020210
22101121212222121122112112211121222022111111200000010020012112100112002201010210200011200200210220112121012212102220122101201212
12201222212222121200212211212112211022222211101112101220021212201011121210021010202212011021110220111211012222020002000010202221
10002000012001200020111122100221112201111212210111101002211122110012221220011200202002011021220120211002000002020212000100102002
01220112100110011120001121022000221102220000212011010201002200002211120001101111100110020121122020220102121110012000112012101002
02120002212212121121102211012220222012120220222021001022020201220002220121102222121222220000011022002102200112222110222012210222
20220002222222211221200011100001121012000102120211112012021010110002120212100021212122222100100200121110020121110022211022210222
22001222112121211221122201221212212202000011101122111201011100220221210002100102200121111100221020200121210211110011111101101111
22122211222111222111212210111222222202121122200000221202200022000111110020011001200112001222120102100112210222221122122220011121
22121112122122122211212002022211222011112211100210212100022202000121102100021222111001001112220202100001201000012111211122200112
21112112111112121112122002011121110121220012011010001221101202000121100022011121210101111122000110020002101022102211222212012022
21112222112222222122212111022222110211202100122011102221120020111112212100112122120100012222012121101001120011202220022120122202
00221112211211210021211122102211210200022221110211012111211201001221221122111122120121012100011221101020000012020010012120001210
10112121122212120201221112110121220012121222201120112001112200101221222121111121110002022200011120020012112020220102112211210122
01121221211112210202002221212021120011001211010020112001112121100000121211122212001202202122012210102122122020122010111222000112
00021002111222110200202121111101102022001000220020211111222122200122021002211120120101120110111122001112100100212200122120112212
12200120211111110100022222110002201021122012112110222100211222200111100110112101222002110120000021220022010200122122212110212121
21121120212121210011222222202222120011111101212110200012011121112121112110221021222000002212122022110022001102012211212220121121
00222202211112121121221222022122212211222120211101102221012212212212001201211012000212212211212021121212111102202212001120002100
20122012212122111112211210212221222122112212021012201120122221111210102102211100121212212120000200022210012201201121002211201101
01222021111111112222212101120012112121221212100212100010000021111220012101112100222222112120111011202120011201101112112112201201
00000201222212112112111022101100000111121221122211211201112101211121211022122202022111111212021022201111122101202221122121201101
22111002110021112212221021022112220222211122122121222202212120211221111021002102022111002221020112021112212120022121110022201220
01211212210022221002200200222001210221111111122222112011221221011222221102010202012120110000110222000111200111222212220022220222
01222212002222110101100112220102002000000011222122211021210021202111212102012001011110220012210122212022021022222121211122000100
22221111020121102201111001110020202112211202121122112020002200001111121100222001012002020021201221112010121012112222121221021022
11002100100111022210222002121102021221112101221100112002221112002122212121000210200120021222022121122001002000212112122122011011
01020011011120112121022221111200221211111101212020222001112122001211200000222111021122221122012221121211010110222221221212022010
01021212021120112222200012122100111211112220000110112002120000112200102211212222102122220000012222220000011020001212112121102001
00122211000120221212221012221101012221121122212220121211210211000100120211121001102121201220000211202002121102120212122222202112
12220011110101212212002022000002021112112222001110210012211011000112121021120120012200011201000121021002212120002021120022200022
12202022202100012121002100221110200001111111001221002101222200221001100202110221221102200100200110221210011211110012102202121022
22022000200011022211122222121201200020222121121221221220222112212001201010221022212201200222202010111202022211212222202210121012
10212000112020222221211121211012111011022121121002111211011112112220002012021011211011222211120010112010122221211222110000100012
20211012220101111111120022220222212022011112112010111212021112221210000200202000002022222112212202000210221112212100002100011122
22012101102100011112120201210112211200111110022100212121000110011110012200210112202022121111212101021210112110012102110011211211
22202110012111101200112010210112212212120002102100001200120120201102200000000121021011111200122101102110211110102201120021112111
12101212111210001200211101020210011000002212102021210020201111002012111221111000112020000021022011101210121111020101201101100111
22202111112202221100000020022010010112112112200122120002202111112012212221211000222001210022010112012102222112102010100002020112
22101222222012121021121012211012102221212111111221120222101210000202122121200220212001202102002000121201111212220021022221002112
11201121210121110121222011112022102211212112002100002012021201120210121122200202001001012201121012212201212111121200010000211111
21201212120221101110022202212100020111211220120010001011011201101211021112100012002220121011100012221011211221122101201210222212
21012112111012202120020010000012200111112102121210120212202102202221011211200012222201111021202200111022121121211220021110121212
02000111212201110110002101121022222112121012112120120001120100001212000001122200012101221101202202000021111221212000012110211120
10120212221102120101001120112021122100000221112120210010120222112121222201111221101220212120200002222200212212121022011202212202
22001122211021210011020220221101121202122222111210120022020211111112112101112221210110111210211212100010111001222100122020011102
11122222112011112221010202210020000001122212211102002122200121221121221202211211220110222120112211100001120120111121220220022202
21111212122020012110110102201012100121211112111020102121212211221222121202211211101000222122021000012220010000111221110001122202
00212221111010012101110120012011010211222122002002012212121100212121221210222212021012120011200111011120202100221211120020221101
00222121211020021201101002100022020211112212002110222112112020212111111002012120112011101022111002021122020022022222220020212011
21222121210101200002102002012112011000122222122101122122220120221212121010021110121000020212221010012211010000020022122220221011
21121211102010011110001002012002021220111122221020012122102110221222200021122220100111210111122202212110120112102102111122011201
21222212101020010020220220020120011120111222212002201122011201002100101221112220101012211021111120000020212021202220002200011110
02211220020101102101001112120111200000111002121121202122011102002012002222211212002011221201221220000201012011110111210021122002
02122201201020102110212111000111012222122001111111202212200010000122121200212112222022122220111202120101102011112000220021222010
12121101110022020211011000212000222002122001212222201002111012122112211100122221211101211210122022102201201012211121001012222011
12121202122222102000200112002011112020220201112212201010000221002112122211222212111102221110220222020001100221222211110221220222
22121022122220020000121110220202122100110011221122201012112001002222222111200212112020011111001111020112212221121001201110002121
21222000002120201112001101122001121212112121111211200111110120001111002122201012122002201111111122200211112100220202202220222122
02112212220002010222002012100002121112221222112122221121201211201110102212202100000000002211221221222112212200210011220000112120
02122200122120200122211012022210111122221221112112210012201121102101022211011121112122111121221111111221111200220022001112220010
11122100100122011210011012021211000112221001221120020022202111210012000122012001112111121121221122211112212020120202010110010011
00120021201021020020012011021211110122112002221102022121022211002122121000100102110011002111222112111121002010000210100210011121
10210201210100202012222021000002102122212111222201011210112222002112122000222022220020102122222211122001002200011220100111122210
01210101122011202000120112212220201200122111122101021102222111121021121011221022112210020011111221122020001121100001022012210010
02120102222012110211002121122000110200111122212101022102211212200011211202222012121221110011222122221102101122122212022101102010
02210102110122120111120022110221122000210012001210011220222122101100111201210121122212002112211222222201201111221112101201022002
02110012220002101002201022202111100000201202020001112120122220001020221011110220011002020002112122200020002222111221202102000212
20112121211120020201200100012100200000201101201102121120211120122002221012211002200110202102221111101210121112121212010010000112
22022112121211210202200011111200122120120102220011100120112220121111112020000212221121001100000222110002012111221120210021111122
22202212120012120102202222122111112210221010001212200220120001220011120102220221210021000022221021211220201122111110001122121200
12202212210011210012102212121222221222021201202001212221001122202102202100020210002200211012212100000210201110011122110121221200
12202121222112000011202222211222222200012220022002122111122121102101022111012010121222112021212121220102201210022122212022222211
11120001112221012102201212221121221022211001112122112002221121220020122222021100121000012012222002220011101111211112211101200111
11001101000022010001011122111112120221220220122100222001222111222210002121101212210211202021221020222221102221121111122101021012
11010020221100120001000210000122102220002122022020222112211121221111202222101122102111210102200200221002110211211212122200122202
11011210220012000002210120112000012101111122200210122200000000112111201111012221012200220201012011122002002022222111212111121220
22021220210010100112201220111111211022112211121121012022122122012121120220112220221010202100121022111110201202221002112211121000
22102120212110020222201202210000212000122122111121201021221212101222122010221210220202101100211000002101012210002010221221211000
01220222000212102121201021202210121210100122121212220202200222120001221022012112020022110010222121120011012220020100100121212112
20002022120111200021100122021210112120022022220000122001201022112120111021022121202200121220002212001211200001022012010221222222
22101102110111121021211110122112011121212101220110122122102201200210200011011121120010221222220222002221212221000200202000012001
22010020212011210100112202221122101212220001002002110011102110011010022121101111110010111111112021211111000011000222200112020102
20120202021012202022012021212212220002110220102211220022110221100021211121110221102200200110011201112112011010121222221220201101
01110220022000021011200122122122112220212001200011122100220121102200121112210122101221200102201110211200010220121211222210102120
22102122121000012102122221111112100120100210012011100100220222201011000001202212210121212011120122021202210110222122121122020002
00202121211000101202002212212121200110012002200212100111000100200100212110021121111011120212120212012120112001001200121111200001
12001211121122002202020222212221212212122211221121111120222020221200211122211210021020002211110000221120122221001021011211112120
00221111001211112202021000210022121211001111212100112220212020122111121221111102100120222112212112002102122212222000021221111120
10121222001001222101022210210021122211020121121022000212011101000122200111212200011111011112200120210012221221222212221001212221
01222100222002212120011210121211112221202021002000221021022201122022022021002222201122012112010120111121122111122222110102002111
11221200211211211221222220211212111221120202002221021202011012222100122010210121202110222220102000121211122211111221210020101110
21111212121122002211110010001100212100222010112211102220021011212211112002112012100001212102020111122200002122211112112202102110
00022122222120202221201011220011011012021101012222202210000021112121200220021101111111211021002112200022101221222000021022120112
22012121122120022111101021122111200111022110012211011202121200221122200202022220121111210122222211100011012122222000010211210212
11011002112211200210010011212211212210100121111111000011211200121112112011022111012211102211112121200200111112122220002211120002
00021001112112021020101222122100222202020222110011122221211221001122110111102200101122202222122222201011220000112102212212222220
21111222122120122200120111111020211020220122210012111112112210110210002122110202020222101122211220001022101110121021122211122001
12211112221110001122210122220102122001221021000021112112110002211020121221222010200122102221110001210112201101120111121211212010
02211222222001201122102001101101100221222200112012211111120221111100122121121010112110001221120111202210010020001222111212121011
02212121112001201222012020100002020212001100001021111211220100121122222221110202221201220012122012021202022101222212211111110111
01211001222121120221022102011120210210210021202202222221102011012222121222101020000021210022121201021100122020011222112212201112
10210110122222210222011220102201210101212122101210000000020221201121001122011002212100210012002202200021000110201200001111201100
00120122022221120001022110110202120012112120001212212222120211102221001110121210022012010201010021111100111000202021201211120011
21210222201221222120101220121001001211211110121112122211210112201112121110121220020212011001011122111212221000011021200012120011
12202221101122111000220121012112010111112110100112111211101111202122221112011211210120221111021212211121121111112022112200020012
22202200202112120122110112201100100221112202012012120011020000022221211100011111120102120012021112212212220022222012121212022212
22102101001222201111202211220200100002112200222012220011002002221212211011122212210101102200121212121121101102222101112120200122
21012120122222101212012122001022011102122222221011211122212002112100110211222222212010201200120000121211101220001120121102021021
12011221021221120002000110101020211102121210011101122112112121122102010211112000022021001200110000111210002110020210211200221102
22012211022111220002002001101001211101220010010001212112001122121102102012220111202012220000121200112110111210021002212122002102
20111210221122220120220002201222121202101012120000011221002112112011110201101001201102110220122101012222021222111121212210101011
10002102001111210102121210011122212101100122001122021100211111120121210101200201102110110120211220012121201100111100212101101021
11210021001212110012112112122210021200011221020001011012021122210212202101121022110220102000112220011112202200112202011011202021
21222111221211122200110000211201022211101112100001100211011122111022101210220111212001201011002102101221101212112101201022022000
00022212222222100010102122012200221120010211211121121211021211222012120222020222122210020202001020001121201222211201201101000122
11100022112212202110021212201111000002202021220021000012100000000212211000100112111101010210221010112212202212112220012201000212
12222202100222110221221111201220222122102200020102022202112000011111222211000120021100102112000021022002210221212212112200221001
21122210200122222021110000012202222211020022022002022101212021011212122122212020200022011212122211020201002011110021212200112020
11121000211221212101120000022102121210102020111110212201112012000222200112221020211200211111111220220012002100020201121022022200
11222012121221212220211112022120212202021002112210001202111011212021200122211020110011121112211202120011211100010110222022011112
12222201211210022222021110121120122012000112100210010011111021121200000112112101010011111121212202120011222200002220112101000001
11121210121202100011021102001202000121111000011002102121000111110011220211121220202121221211211202112222110011211201221120221220
22100001000012121100100100220201012001222222121211202000111111202201101222222110101112222222212201111210020021122201211210122120
11201202222211211212100212002001100110001100121121010122111212200010011212221110022221212200220010002102021122221120001110002202
01210021212220000001111112002111200122102020221210102112111222111010011111121112221211111012010101102010221210000210002122102200
20111211211201002201121121001121022000012001111220011111122200122020011211210012111111110200020101100220211210210202211211011222

