pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--fonttest



f=0
cls()
function _update60()
	update_ids()
	foreach(texts,update_texts)
	if btnp()>0 or rnd(99)>96 then
		yy=rnd(128)\4*4
		new_text(words[1+rnd(8)\1],1,yy,4,0,4+rnd(9)\1,1+rnd(3)\1)
	end
end
function _draw()
	f=f+1
	--yo=64+sin(f)*20
	--xo=64+cos(f)*20
	--cls()
	--print3("test",40,40,7)
	--rectfill(xo-50,yo-6,xo+50,yo+5,2)
	--print3("the quick brown fox",xo-40,yo-4,7)
	--print3("jumps over the lazy dog",xo-48,yo,7)
	foreach(texts,draw_texts)
end

function update_ids()
	local i
	for i=1,#texts do
		texts[i].i=i
	end
end
-->8
--text flyby things


words={
"the",
"quick",
"brown",
"fox",
"jumps",
"over",
"lazy",
"dog"}


texts={{i=0,
       str="",
       x=0,
       y=0,
       tx=0,
       ty=0,
       s=0,
       ti=0,
       d=0,
       c=0}}
t={}
       
function update_texts(t)
	if t.d==1 then
		if t.s==0 then
			if t.ti<0 then
				t.s=1
				t.ti=30
			else
				t.ti=t.ti-0.5
				t.x=t.x+t.tx
				t.y=t.y+t.ty
				t.tx=t.tx*0.9
				t.ty=t.ty*0.9
			end
		elseif t.s==1 then
			if t.ti<0 then
				t.s=2
				t.ti=30
			else
				t.ti=t.ti-0.25
				t.tx=t.tx+0.1
				t.x=t.x+t.tx
			end
		elseif t.s==2 then
			if t.ti<0 then
				t.d=0
			else
				t.ti=t.ti-1
			end
		end
	else
		deli(texts,t.i)
	end
end

function draw_texts(t)
	if t.d==1 then
		rectfill(t.x-3,t.y-1,t.x+#t.str*4,t.y+3,0)
		rectfill(t.x-1,t.y-1,t.x+#t.str*4,t.y+3,t.c2)
		print3(t.str,t.x,t.y,t.c)
	end
end

function new_text(str,x,y,tx,ty,c,c2)
	add(texts,{i=0,
	         str=str,
	           x=x,
	           y=y,
	          tx=tx,
	          ty=ty,
	           s=0,
	          ti=30,
	           d=1,
	           c=c,
	           c2=c2},
	           #texts+1)
end
-->8
--3x3 font

fnt={
0b1111111111111111.1,--0
0b0011101100011111.1,--1
0b0011101110011111.1,--2
0b0001100100011111.1,--3
0b0101000111011111.1,--4
0b1001101100111111.1,--5
0b0111000100011111.1,--6
0b0001110111011111.1,--7
0b1001000100011111.1,--8
0b1111111111111111.1,--9
0b1111111111111111.1,--10
0b0011000100011111.1,--11
0b0001011100011111.1,--12
0b1111111111111111.1,--13
0b0001001100011111.1,--14
0b0001001101111111.1,--15
0b0001000100010001.1,--16
0b0001000100011111.1,--17
0b0001010100011111.1,--18
0b0101101101011111.1,--19
0b0101111101011111.1,--20
0b0101010101011111.1,--21
0b1011001110111111.1,--22
0b1011100110111111.1,--23
0b0001011101111111.1,--24
0b1101110100011111.1,--25
0b0101000110111111.1,--26
0b1111101111111111.1,--27
0b1111101111011111.1,--28
0b1111100110011111.1,--29
0b0101010111111111.1,--30 
0b1011010110111111.1,--31
0b1111111111111111.1,--32
0b0001111110111111.1,--33 !
0b0101010111111111.1,--34 "
0b0101000100010101.1,--35 #
0b0011101110011011.1,--36 $
0b0101101101011111.1,--37 %
0b0011000100011111.1,--38 &
0b1011011111111111.1,--39 
0b1011011110111111.1,--40 (
0b1011110110111111.1,--41 )
0b0101101101011111.1,--42 *
0b1011000110111111.1,--43 + 
0b1111101101111111.1,--44 ,
0b1111000111111111.1,--45 -
0b1111111110111111.1,--46 .
0b0111101111011111.1,--47 /
0b0001010100011111.1,--48 0
0b0011101100011111.1,--49 1
0b0011101110011111.1,--50 2
0b0001100100011111.1,--51 3
0b0101000111011111.1,--52 4
0b1001101100111111.1,--53 5
0b0111000100011111.1,--54 6
0b0001110111011111.1,--55 7
0b1001000100011111.1,--56 8
0b0001000111011111.1,--57 9
0b1011111110111111.1,--58 :
0b1011111100111111.1,--59 ;
0b1001011110011111.1,--60 <
0b0001111100011111.1,--61 =
0b0011110100111111.1,--62 >
0b0001110110111111.1,--63 ?
0b1011010100011111.1,--64 @
0b1011000101011111.1,--65 a
0b0011000100011111.1,--66
0b0001011100011111.1,--67
0b0011010100111111.1,--68
0b0001001100011111.1,--69
0b0001001101111111.1,--70
0b0011010100011111.1,--71
0b0101000101011111.1,--72
0b0001101100011111.1,--73
0b1101010100011111.1,--74
0b0101001101011111.1,--75
0b0111011100011111.1,--76
0b0001000101011111.1,--77
0b0001010101011111.1,--78
0b0001010100011111.1,--79
0b0001000101111111.1,--80
0b1011010110011111.1,--81
0b0001011101111111.1,--82
0b1001101100111111.1,--83
0b0001101110111111.1,--84
0b0101010100011111.1,--85
0b0101010110111111.1,--86
0b0101000100011111.1,--87
0b0101101101011111.1,--88
0b0101101110111111.1,--89
0b0011101110011111.1,--90 z
0b1001101110011111.1,--91 [
0b0111101111011111.1,--92 \
0b0011101100111111.1,--93 ]
0b1011010111111111.1,--94 ^
0b1111111100011111.1,--95 _
0b1011110111111111.1,--96 `
0b1011000101011111.1,--97 a
0b0011000100011111.1,--98
0b0001011100011111.1,--99
0b0011010100111111.1,--100
0b0001001100011111.1,--101
0b0001001101111111.1,--102
0b0011010100011111.1,--103
0b0101000101011111.1,--104
0b0001101100011111.1,--105
0b1101010100011111.1,--106
0b0101001101011111.1,--107
0b0111011100011111.1,--108
0b0001000101011111.1,--109
0b0001010101011111.1,--110
0b0001010100011111.1,--111
0b0001000101111111.1,--112
0b1011010110011111.1,--113
0b0001011101111111.1,--114
0b1001101100111111.1,--115
0b0001101110111111.1,--116
0b0101010100011111.1,--117
0b0101010110111111.1,--118
0b0101000100011111.1,--119
0b0101101101011111.1,--120
0b0101101110111111.1,--121
0b0011101110011111.1,--122z
0b1001001110011111.1,--123{
0b1011101110111111.1,--124|
0b0011100100111111.1,--125}
0b1101000101111111.1,--126
0b1011010110111111.1,--127
}


function print3(str,xx,yy,co)
	local x,y=xx,yy--xx\4*4,yy\4*4
	local oldfp=peek2(0x5f31)+peek(0x5f33)/2
	local i,c
	for i=1,#str do
		c=sub(str,i,i)
		fillp(fnt[ord(c)+1])
		rectfill(x+i*4-4,y,x+i*4+3-4,y+3,co)
	end
	fillp(oldfp)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00022002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200220020022002002200220022002200220
00027002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200270020022002002700270027002700270
00027002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200270020022002002200220022002200220
00027002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200270020022002002200220022002200220
00022002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200220020022002002200220022002200220
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
0001c0010010010010000000000000000000000000000000000000000000000000000010000100001001001001001001c0010011001001c001c001c001c001c0
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033003003003003000000000000000000000000000000000000000000000000000003000030000300300300300300330030033003003300330033003300330
00033003003003003000000000000000000000000000000000000000000000000000003000030000300300300300300330030033003003800380038003800380
00038003003003003000000000000000000000000000000000000000000000000000003000030000300300300300300380030033003003800380038003800380
00038003003003003000000000000000000000000000000000000000000000000000003000030000300300300300300380030033003003800380038003800380
00022002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200220020022002002200220022002200220
00026002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200260020022002002200220022002200220
00026002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200260020022002002600260026002600260
00026002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200260020022002002200220022002200220
00022002002002002000000000000000000000000000000000000000000000000000002000020000200200200200200220020022002002200220022002200220
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00011001001001001000000000000000000000000011111111111111111111110000000000000000000000000000000000000000000000000000000000000000
00017001001001001000000000000000000000000011777171717771777171710000000000000000000000000000000000000000000000000000000000000000
00017001001001001000000000000000000000000011777171711711711177110000000000000000000000000000000000000000000000000000000000000000
00011001001001001000000000000000000000000011117177717771777171710000000000000000000000000000000000000000000000000000000000000000
00011001001001001000000000000000000000000011111111111111111111110000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
0001a0010010010010000000000000000000000000000000000000000000000000000010000100001001001001001001a0010011001001a001a001a001a001a0
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
00011001001001001000000000000000000000000000000000000000000000000000001000010000100100100100100110010011001001100110011001100110
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

